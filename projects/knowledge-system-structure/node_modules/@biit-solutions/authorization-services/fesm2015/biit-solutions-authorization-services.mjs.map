{"version":3,"file":"biit-solutions-authorization-services.mjs","sources":["../../../projects/authorization-services/src/lib/models/created-element-dto.ts","../../../projects/authorization-services/src/lib/models/element-dto.ts","../../../projects/authorization-services/src/lib/models/user.ts","../../../projects/authorization-services/src/lib/services/auth.service.ts","../../../projects/authorization-services/src/lib/models/create-user-request.ts","../../../projects/authorization-services/src/lib/models/login-request.ts","../../../projects/authorization-services/src/lib/models/password-request.ts","../../../projects/authorization-services/src/lib/models/role.ts","../../../projects/authorization-services/src/lib/models/app-role.ts","../../../projects/authorization-services/src/lib/constants.ts","../../../projects/authorization-services/src/lib/services/session.service.ts","../../../projects/authorization-services/src/public-api.ts","../../../projects/authorization-services/src/biit-solutions-authorization-services.ts"],"sourcesContent":["export class CreatedElementDto {\n  createdAt: Date;\n  createdBy: string;\n  createdOn: string;\n\n  public static clone(from: CreatedElementDto): CreatedElementDto {\n    const to: CreatedElementDto = new CreatedElementDto();\n    CreatedElementDto.copy(from, to);\n    return to;\n  }\n\n  public static copy(from: CreatedElementDto, to: CreatedElementDto): void {\n    to.createdAt = from.createdAt ? new Date(from.createdAt) : null;\n    to.createdBy = from.createdBy;\n    to.createdOn = from.createdOn;\n  }\n}\n","import {CreatedElementDto} from \"./created-element-dto\";\n\nexport class ElementDto extends CreatedElementDto {\n  id: any;\n  updatedAt: Date;\n  updatedBy: string;\n\n  public static override clone(from: ElementDto): ElementDto {\n    const to: ElementDto = new ElementDto();\n    ElementDto.copy(from, to);\n    return to;\n  }\n  public static override copy(from: ElementDto, to: ElementDto): void {\n    super.copy(from, to);\n    to.id = from.id;\n    to.updatedAt = from.updatedAt ? new Date(from.updatedAt) : null;\n    to.updatedBy = from.updatedBy;\n  }\n}\n","import {ElementDto} from \"./element-dto\";\nimport {Role} from \"./role\";\nimport {AppRole} from \"./app-role\";\n\nexport class User extends ElementDto {\n  idCard: string;\n  uuid: string;\n  username: string;\n  name: string;\n  lastname: string;\n  email: string;\n  phone: string;\n  languageId: string;\n  password: string;\n  passwordModifiedDate: Date;\n  accountExpirationTime: Date;\n  accountLocked: boolean;\n  accountBlocked: boolean;\n  enabled: boolean;\n  city: string;\n  address: string;\n  country: string;\n  grantedAuthorities: Role[];\n  applicationRoles: AppRole[];\n\n\n  public static override clone(from: User): User {\n    const to: User = new User();\n    User.copy(from, to);\n    return to;\n  }\n\n  public static override copy(from: User, to: User): void {\n    super.copy(from, to);\n    to.idCard = from.idCard;\n    to.uuid = from.uuid;\n    to.username = from.username;\n    to.name = from.name;\n    to.lastname = from.lastname;\n    to.email = from.email;\n    to.phone = from.phone;\n    to.languageId = from.languageId;\n    to.password = from.password;\n    to.passwordModifiedDate = from.passwordModifiedDate ? new Date(from.passwordModifiedDate) : null;\n    to.accountExpirationTime = from.accountExpirationTime ? new Date(from.accountExpirationTime) : null;\n    to.accountLocked = from.accountLocked;\n    to.accountBlocked = from.accountBlocked;\n    to.enabled = from.enabled;\n    to.city = from.city;\n    to.address = from.address;\n    to.country = from.country;\n    to.grantedAuthorities = from.grantedAuthorities;\n    to.applicationRoles = from.applicationRoles;\n  }\n}\n","import {HttpClient, HttpResponse} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\nimport {User} from \"../models/user\";\nimport {CreateUserRequest} from \"../models/create-user-request\";\nimport {LoginRequest} from \"../models/login-request\";\nimport {PasswordRequest} from \"../models/password-request\";\nimport {TokenRenewListener} from \"./token-renew\";\nimport {AuthCalls} from \"./auth-calls\";\nimport {RootPath} from \"../models/root-path\";\n\nexport class AuthService implements AuthCalls {\n\n  public static readonly ROOT_PATH: string = '/auth';\n  private static readonly MIN_WAIT_TIME: number = 1000;\n  private static readonly TOLERANCE: number = 1000 * 60 * 5; // 5 minutes\n  private timeoutId: number;\n  constructor(private rootPath: RootPath, private httpClient: HttpClient) { }\n  public getAll(): Observable<User[]> {\n    return this.httpClient.get<User[]>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/register`);\n  }\n  public add(user: User): Observable<User> {\n    return this.httpClient.post<User>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/register`, user);\n  }\n  public update(request: CreateUserRequest): Observable<User> {\n    return this.httpClient.patch<User>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/register`, request);\n  }\n  public login(request: LoginRequest): Observable<HttpResponse<User>> {\n    return this.httpClient.post<User>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/public/login`, request, {observe: 'response'});\n  }\n  public changePassword(request: PasswordRequest): Observable<void> {\n    return this.httpClient.post<void>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/password`, request);\n  }\n  public getRoles(): Observable<string[]> {\n    return this.httpClient.get<string[]>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/roles`);\n  }\n  public deleteByUserName(username: string): Observable<void> {\n    return this.httpClient.delete<void>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/register/${username}`);\n  }\n  public cancelAutoRenew(): void {\n    clearTimeout(this.timeoutId);\n  }\n  public loginByToken(token: string): Observable<HttpResponse<User>> {\n    return this.httpClient.get<User>(`${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/public/login/tokens/${token}`, {observe: 'response'});\n  }\n  public autoRenewToken(token: string, expiration: number, tokenRenewListener: TokenRenewListener,\n                        tolerance: number = AuthService.TOLERANCE): void {\n    if (this.timeoutId != null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n    const expirationDate: Date = new Date(expiration);\n    const now: Date = new Date();\n    const expirationTime: number = expirationDate.getTime() - AuthService.TOLERANCE - now.getTime();\n    this.setTimeoutRenew(token, expirationTime, tokenRenewListener, tolerance);\n    console.log(`Next token renew on: ${expirationDate}`);\n  }\n  private setTimeoutRenew(token: string, timeout: number, tokenRenewListener: TokenRenewListener,\n                          tolerance: number): void {\n    if (isNaN(timeout)) {\n      console.error(`Timeout should be a number and received '${timeout}'`)\n      return;\n    }\n    if (timeout < AuthService.MIN_WAIT_TIME) {\n      timeout = AuthService.MIN_WAIT_TIME;\n    }\n    this.timeoutId = setTimeout((): void => {\n      this.renew(token).subscribe(\n        {\n          next: (res: HttpResponse<User>): void => {\n            if (!res) {\n              console.error('Server returned invalid response');\n              return;\n            }\n            const authToken: string = res.headers.get('authorization');\n            const expiration: number = Number(res.headers.get('expires'));\n            const user: User = User.clone(res.body);\n            if (!authToken || !expiration) {\n              throw new Error('Server returned invalid response');\n            }\n            if (isNaN(expiration)) {\n              throw new Error('Server returned invalid expiration time');\n            }\n            console.log(`Next token renew on: ${new Date(expiration)}`);\n            tokenRenewListener.onTokenReceived(authToken, expiration, user);\n            const newTimeOut: number = expiration - new Date().getTime() - tolerance;\n            this.setTimeoutRenew(authToken, newTimeOut, tokenRenewListener, tolerance);\n\n          },\n          error: (err: any): void => {\n            tokenRenewListener.onException(err);\n            clearTimeout(this.timeoutId);\n          }\n        }\n      )\n    }, timeout)\n  }\n  public renew(token ?: string): Observable<HttpResponse<User>> {\n    return token ?\n      this.httpClient.get<User>(\n        `${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/jwt/renew`, {headers: {'Authorization': 'Bearer ' + token}, observe: 'response'})\n      : this.httpClient.get<User>(\n        `${this.rootPath.getRootPath()}${AuthService.ROOT_PATH}/jwt/renew`, {observe: 'response'});\n  }\n}\n","export class CreateUserRequest {\n  uniqueId: string;\n  username: string;\n  firstname: string;\n  lastname: string;\n  password: string;\n  fullname: string;\n  authorities: string[];\n\n  public static copy(from: CreateUserRequest, to: CreateUserRequest): void {\n    to.uniqueId = from.uniqueId;\n    to.username = from.username;\n    to.firstname = from.firstname;\n    to.lastname = from.lastname;\n    to.password = from.password;\n    to.fullname = from.fullname;\n    to.authorities = from.authorities;\n  }\n  public static clone(from: CreateUserRequest): CreateUserRequest {\n    const to: CreateUserRequest = new CreateUserRequest();\n    CreateUserRequest.copy(from, to);\n    return to;\n  }\n}\n","export class LoginRequest {\n  username: string;\n  password: string;\n  constructor(username?: string, password?: string) {\n    this.username = username;\n    this.password = password;\n  }\n}\n","export class PasswordRequest {\n  oldPassword: string;\n  newPassword: string;\n  constructor(oldPassword?: string, newPassword?: string) {\n    this.oldPassword = oldPassword;\n    this.newPassword = newPassword;\n  }\n}\n","export enum Role {\n  APPOINTMENTCENTER_ADMIN = 'APPOINTMENTCENTER_ADMIN',\n  APPOINTMENTCENTER_EDITOR = 'APPOINTMENTCENTER_EDITOR',\n  APPOINTMENTCENTER_VIEWER = 'APPOINTMENTCENTER_VIEWER',\n  BASEFORMDROOLSENGINE_ADMIN = 'BASEFORMDROOLSENGINE_ADMIN',\n  BASEFORMDROOLSENGINE_EDITOR = 'BASEFORMDROOLSENGINE_EDITOR',\n  BASEFORMDROOLSENGINE_VIEWER = 'BASEFORMDROOLSENGINE_VIEWER',\n  INFOGRAPHICENGINE_ADMIN = 'INFOGRAPHICENGINE_ADMIN',\n  INFOGRAPHICENGINE_EDITOR = 'INFOGRAPHICENGINE_EDITOR',\n  INFOGRAPHICENGINE_PRACTITIONER = 'INFOGRAPHICENGINE_PRACTITIONER',\n  INFOGRAPHICENGINE_VIEWER = 'INFOGRAPHICENGINE_VIEWER',\n  KAFKAPROXY_ADMIN = 'KAFKAPROXY_ADMIN',\n  KAFKAPROXY_EDITOR = 'KAFKAPROXY_EDITOR',\n  KAFKAPROXY_VIEWER = 'KAFKAPROXY_VIEWER',\n  KNOWLEDGESYSTEM_ADMIN = 'KNOWLEDGESYSTEM_ADMIN',\n  KNOWLEDGESYSTEM_EDITOR = 'KNOWLEDGESYSTEM_EDITOR',\n  KNOWLEDGESYSTEM_VIEWER = 'KNOWLEDGESYSTEM_VIEWER',\n  FACTMANAGER_ADMIN = 'FACTMANAGER_ADMIN',\n  FACTMANAGER_EDITOR = 'FACTMANAGER_EDITOR',\n  FACTMANAGER_VIEWER = 'FACTMANAGER_VIEWER',\n  FACTSDASHBOARD_ADMIN = 'FACTSDASHBOARD_ADMIN',\n  FACTSDASHBOARD_VIEWER = 'FACTSDASHBOARD_VIEWER',\n  FACTSDASHBOARD_CEO = 'FACTSDASHBOARD_CEO',\n  FACTSDASHBOARD_TEAMLEADER = 'FACTSDASHBOARD_TEAMLEADER',\n  FACTSDASHBOARD_EMPLOYEE = 'FACTSDASHBOARD_EMPLOYEE',\n  FACTSDASHBOARD_PRACTITIONER = 'FACTSDASHBOARD_PRACTITIONER',\n  FACTSDASHBOARD_NCA = 'FACTSDASHBOARD_NCA',\n  FACTSDASHBOARD_CADT = 'FACTSDASHBOARD_CADT',\n  FACTSDASHBOARD_CREDIBILITY = 'FACTSDASHBOARD_CREDIBILITY',\n  FACTSDASHBOARD_CUSTOMERLIST = 'FACTSDASHBOARD_CUSTOMER LIST',\n  FACTSDASHBOARD_HAPPINESSATWORK = 'FACTSDASHBOARD_HAPPINESS AT WORK',\n  FACTSDASHBOARD_FRUSTRATIONONTEAMWORKING = 'FACTSDASHBOARD_FRUSTRATION ON TEAMWORKING',\n  FACTSDASHBOARD_ORGANIZATIONLIST = 'FACTSDASHBOARD_ORGANIZATION LIST',\n  FACTSDASHBOARD_XLSACCESS = 'FACTSDASHBOARD_XLS ACCESS',\n  PROFILEMATCHER_ADMIN = 'PROFILEMATCHER_ADMIN',\n  PROFILEMATCHER_EDITOR = 'PROFILEMATCHER_EDITOR',\n  PROFILEMATCHER_VIEWER = 'PROFILEMATCHER_VIEWER',\n  TASKJUNCTION_ADMIN = 'TASKJUNCTION_ADMIN',\n  TASKJUNCTION_EDITOR = 'TASKJUNCTION_EDITOR',\n  TASKJUNCTION_VIEWER = 'TASKJUNCTION_VIEWER',\n  USERMANAGERSYSTEM_ADMIN = 'USERMANAGERSYSTEM_ADMIN',\n  USERMANAGERSYSTEM_EDITOR = 'USERMANAGERSYSTEM_EDITOR',\n  USERMANAGERSYSTEM_VIEWER = 'USERMANAGERSYSTEM_VIEWER',\n  USERMANAGERSYSTEM_ORGANIZATION_ADMIN = 'USERMANAGERSYSTEM_ORGANIZATION_ADMIN',\n  FACTSDASHBOARD_ORGANIZATION_ADMIN = 'FACTSDASHBOARD_ORGANIZATION_ADMIN',\n  PROFILEMATCHER_ORGANIZATION_ADMIN = 'PROFILEMATCHER_ORGANIZATION_ADMIN',\n}\n","export enum AppRole {\n  APPOINTMENTCENTER_ADMIN = \"APPOINTMENTCENTER_ADMIN\",\n  APPOINTMENTCENTER_MANAGER = \"APPOINTMENTCENTER_MANAGER\",\n  APPOINTMENTCENTER_USER = \"APPOINTMENTCENTER_USER\",\n  BASEFORMDROOLSENGINE_ADMIN = \"BASEFORMDROOLSENGINE_ADMIN\",\n  BASEFORMDROOLSENGINE_USER = \"BASEFORMDROOLSENGINE_USER\",\n  FACTMANAGER_ADMIN = \"FACTMANAGER_ADMIN\",\n  FACTSDASHBOARD_CEO = \"FACTSDASHBOARD_CEO\",\n  FACTMANAGER_USER = \"FACTMANAGER_USER\",\n  INFOGRAPHICENGINE_ADMIN = \"INFOGRAPHICENGINE_ADMIN\",\n  INFOGRAPHICENGINE_USER = \"INFOGRAPHICENGINE_USER\",\n  KAFKAPROXY_ADMIN = \"KAFKAPROXY_ADMIN\",\n  KAFKAPROXY_USER = \"KAFKAPROXY_USER\",\n  KNOWLEDGESYSTEM_ADMIN = \"KNOWLEDGESYSTEM_ADMIN\",\n  KNOWLEDGESYSTEM_USER = \"KNOWLEDGESYSTEM_USER\",\n  PROFILEMATCHER_ADMIN = 'PROFILEMATCHER_ADMIN',\n  PROFILEMATCHER_MANAGER = 'PROFILEMATCHER_MANAGER',\n  PROFILEMATCHER_USER = 'PROFILEMATCHER_USER',\n  TASKJUNCTION_ADMIN = \"TASKJUNCTION_ADMIN\",\n  TASKJUNCTION_USER = \"TASKJUNCTION_USER\",\n  USERMANAGERSYSTEM_ADMIN = \"USERMANAGERSYSTEM_ADMIN\",\n  USERMANAGERSYSTEM_EDITOR = \"USERMANAGERSYSTEM_EDITOR\",\n  USERMANAGERSYSTEM_ORGANIZATION_ADMIN = \"USERMANAGERSYSTEM_ORGANIZATION_ADMIN\",\n  USERMANAGERSYSTEM_USER = \"USERMANAGERSYSTEM_USER\",\n  PROFILEMATCHER_ORGANIZATION_ADMIN = 'PROFILEMATCHER_ORGANIZATION_ADMIN',\n}\n","export class Constants {\n  public static readonly SESSION_STORAGE = class {\n    public static readonly AUTH_TOKEN: string = 'authToken';\n    public static readonly AUTH_EXPIRATION: string = 'authExp';\n    public static readonly USER: string = 'user';\n    public static readonly PERMISSIONS: string = 'permissions';\n  }\n}\n","import {Constants} from \"../constants\";\nimport {AuthService} from \"./auth.service\";\nimport {TokenRenewListener} from \"./token-renew\";\nimport {User} from \"../models/user\";\n\nexport class SessionService implements TokenRenewListener {\n  private loggedIn: boolean = false;\n  private user: User;\n  private store: boolean;\n  constructor(private authService: AuthService, private context: string = '') {\n    const authToken: string = localStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`);\n    const expires: number = +localStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`);\n    let user: User = localStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`) ? User.clone(JSON.parse(localStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`))) : undefined;\n    if (!user) {\n      user = sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`) ? User.clone(JSON.parse(sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`))) : undefined;\n    }\n    this.user = user;\n    if (!expires || isNaN(expires) || expires < new Date().getTime()) {\n      localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`);\n      localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`);\n      localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`);\n    }\n    if (authToken) {\n      sessionStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`, authToken);\n      sessionStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`, JSON.stringify(user));\n      this.store = true;\n      if (expires && !isNaN(expires)) {\n        sessionStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`, expires.toString());\n      }\n      this.loggedIn = true;\n    }\n    if ((authToken && expires)\n      || (sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`) && sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`))) {\n      this.setAutoRenew(authToken? authToken : sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`)\n        , expires ? expires : +sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`));\n    }\n  }\n\n  onTokenReceived(token: string, expiration: number, user: User): void {\n    this.setToken(token, expiration);\n    this.setUser(user);\n    console.log(`Token ${this.context ? 'for' + this.context : ''} has been renewed successfully.`, token);\n  }\n  onException(error: any): void {\n    console.error(`There was an exception while renewing the token ${this.context ? 'for' + this.context : ''}.`);\n    this.clearToken();\n  }\n\n  private setAutoRenew(token: string, expires: number): void {\n    // ADD HERE ALL SERVICES NEED TO BE CALLED TO RENEW TOKEN\n    this.authService.autoRenewToken(token, expires, this);\n  }\n\n  clearToken(): void {\n    sessionStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`);\n    sessionStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`);\n    sessionStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`);\n    this.store = undefined;\n    localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`);\n    localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`);\n    localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`);\n    this.loggedIn = false;\n    this.user = undefined;\n  }\n\n  setToken(token: string, expires: number, enableStore: boolean = undefined, autoRenew: boolean = false): void {\n    if (!token || !expires) {\n      this.clearToken();\n      return;\n    }\n    sessionStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`, token);\n    sessionStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`, expires.toString());\n    if (enableStore !== undefined) {\n      this.store = enableStore;\n      if (!enableStore) {\n        localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`);\n        localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`);\n      }\n    }\n    if (this.store) {\n      localStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`, token);\n      localStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`, expires.toString());\n    }\n    if (autoRenew) {\n      this.setAutoRenew(token, expires);\n    }\n    this.loggedIn = true;\n  }\n\n  getToken(): string {\n    return sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_TOKEN}`);\n  }\n\n  isTokenExpired(): boolean {\n    const expired: boolean = !sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`) ||\n      new Date().getTime() > +sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`) || !this.getToken();\n    if (!expired) {\n      this.loggedIn = true;\n    }\n    return expired;\n  }\n  getExpirationDate(): Date {\n    const sessionExpiration = sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`);\n    if (!isNaN(+sessionExpiration)) {\n      return new Date(+sessionStorage.getItem(`${this.context}.${Constants.SESSION_STORAGE.AUTH_EXPIRATION}`));\n    }\n    return null;\n  }\n\n  get isLoggedIn(): boolean {\n    return this.loggedIn;\n  }\n\n  setUser(user: User, enableStore: boolean = undefined): void {\n    sessionStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`, JSON.stringify(user));\n    if (enableStore !== undefined) {\n      if (!enableStore) {\n        localStorage.removeItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`);\n      }\n    }\n    if (this.store) {\n      localStorage.setItem(`${this.context}.${Constants.SESSION_STORAGE.USER}`, JSON.stringify(user));\n    }\n    this.user = user;\n  }\n\n  getUser(): User {\n    return this.user;\n  }\n\n}\n","/*\n * Public API Surface of authorization-services\n */\n\nexport * from './lib/services/token-renew';\nexport * from './lib/services/auth-calls';\nexport * from './lib/services/auth.service';\nexport * from './lib/models/user';\nexport * from './lib/models/create-user-request';\nexport * from './lib/models/login-request';\nexport * from './lib/models/password-request';\nexport * from './lib/models/element-dto';\nexport * from './lib/models/created-element-dto';\nexport * from './lib/models/root-path';\nexport * from './lib/models/role';\nexport * from './lib/models/app-role';\nexport * from './lib/services/session.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}